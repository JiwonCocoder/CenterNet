import numpy as np
import itertools
import math

bookshelf_Aug_list = [['17341', -0.0073, [[0.011498595892921137, 0.5829849829557936, 0.21990280900387177], [0.17394293474756695, 0.20004852786943872, 0.28348794371999997], 0.22671534654127568]], ['15334', 0.7152, [[0.20320880596045832, 0.46787584811880656, 0.04725568615549873], [0.38239210742674257, 0.9165926889602569, 0.4538384363636365], 0.14844699019234442]], ['13345', -1.2313, [[0.2743225246451456, 0.8394898160743081, 0.11361116078950284], [0.05760667047697082, 0.175305246226362, 0.0033099636363636], 0.020823516286059735]], ['10627', -1.5243, [[0.11666853853985382, 0.21504150150790835, 0.029280472897247556], [0.13617089099991664, 0.029263856745483374, 0.19900666363636366], 0.5090438822059078]], ['19222', 0.8064, [[0.1268941285243722, 0.6361863009377511, 0.020950828324281662], [0.11261988727272731, 0.08030579090909118, 0.19666507272727274], 0.006855853589792904]], ['17542', -0.5171, [[0.02685826532164093, 0.1649067730231759, 0.10236078578432206], [0.9061168588638506, 0.3255732507891651, 0.29617190250000003], 0.24017696817046374]], ['20262', -0.0284, [[0.07238191111561687, 0.6506698724345652, 0.039391555891473945], [3.0508591561330514, 0.4041631591289123, 0.2075993821200286], 0.42322986798223416]], ['12643', 0.8365, [[0.09100531346194773, 0.4384117556511513, 0.045212008519880276], [0.28100292591139825, 0.5365433025811992, 0.06575539689999998], 5.223835136019913]], ['13968', 0.4998, [[0.057493086308074315, 0.24252407350311378, 0.04176203037313339], [0.19549855822668183, 0.26115936083957014, 0.25919156363636375], 0.11021495081115384]], ['14316', 0.2141, [[0.09500162162832224, 0.9332394549014813, 0.12852496889348208], [0.03713893359759671, 0.4525330938832679, 0.5657340727272728], 0.11748768695169565]], ['17108', -0.605, [[0.07182843594489363, 0.32397339459540087, 0.08921679693628648], [0.03210190192756657, 0.01199681862559454, 0.37596981818181807], 0.36268279141423765]], ['17108', -1.1867, [[0.24304515494434686, 0.6901561148374662, 0.10305881890839225], [0.001086443225365441, 0.058324277238757605, 0.3613450545454546], 0.060582642924345786]], ['15573', -0.9135, [[0.2223007131748621, 0.7204075625776074, 0.1961229405338193], [0.047144697972027305, 0.2050735706293707, 0.21547331818181825], 0.1139150303002388]], ['13839', -0.0455, [[0.029004745188621665, 0.13158041453330926, 0.014878691103295427], [0.1852248728322211, 0.03059909537012634, 0.10563962727272735], 0.15600082565426332]], ['15406', -0.4962, [[0.14692711895868427, 1.441679457897464, 0.03343988562535602], [1.3045952354659724, 0.43707398159835986, 0.64437157434304], 0.24898550010146892]], ['15406', -1.5173, [[0.47666639236484554, 1.8243661941672662, 0.024482646325713314], [0.7505245326448589, 0.04214035025070528, 1.0104540055752844], 0.04982899512187999]], ['12650', -1.0594, [[0.08419955333220153, 0.17619568562404053, 0.024820536545209826], [0.062175084000872904, 0.2918788711077983, 0.3160788911000001], 0.014422824399832446]], ['12442', 0.0976, [[0.030201676841963718, 0.13827019838245502, 0.012628997500349015], [0.016422627048775396, 0.26240353273556416, 0.18963510000000006], 0.1470202882712921]], ['15705', 0.114, [[0.025404518761135794, 0.21854220402623437, 0.036240264585492454], [0.14813393647178708, 0.003926594540271111, 0.28964472727272716], 0.01933114696356686]], ['12942', 0.2425, [[0.03839060262389721, 0.2974676198050512, 0.07989791936098195], [0.5327551114825115, 0.8570648640388896, 0.07815914784268485], 0.08685779119185266]], ['17463', 0.7784, [[0.10822965939209173, 0.3891212178736687, 0.019715137318233114], [0.055775142582528026, 0.04693170597616336, 0.25291181260000006], 0.09010526967374599]], ['12925', 0.3034, [[0.04517411338684385, 0.22849827153107283, 0.048429146288914926], [0.2556237933863993, 0.02370365075668379, 0.09473096139027004], 0.07088389042565213]], ['12311', 1.336, [[0.003106536255481407, 0.1779631181354393, 0.06390188898363104], [0.13205085961758145, 0.011961276289662204, 0.2733853999000002], 0.005374625584242176]], ['12311', 2.2033, [[0.7456408568419155, 1.5209096161198388, 0.007970849418355533], [0.3508701351866782, 0.035254653831854776, 0.15415810009999986], 0.07058112496115676]], ['14420', 0.2169, [[0.020859367764733877, 0.28549767588493524, 0.026223271195814135], [0.2385395440016571, 0.06610172547084664, 0.45627214545454553], 0.05334163204061437]], ['15704', 1.5165, [[0.009020200026765846, 0.022182448116412345, 0.06663571777084565], [0.024333685889515566, 0.09951212068627757, 0.2846277818181817], 0.35225377928643886]], ['12792', -2.6458, [[0.9050290079040313, 2.1357552517581215, 0.1359213029842142], [1.0020972569433768, 0.05680806305676539, 0.7037884000000001], 0.011062937639186199]], ['12955', 0.507, [[0.05702472807823128, 0.1463790014377906, 0.00836872326182729], [0.014491127272727278, 0.05491464191846446, 0.0935939183948864], 0.11926566229236302]], ['17458', 1.1396, [[0.08747128832273865, 0.21559742851038433, 0.017936082875266435], [0.057666466390311866, 0.300367628970639, 0.10909239999999998], 0.044439204698119905]], ['12306', 1.1842, [[0.1593755026901258, 0.7668533521377285, 0.07553085016866035], [0.20125962480000004, 0.2040541030000002, 0.3836239979999998], 0.41102282679489655]], ['12764', 0.0339, [[0.007857569141333974, 0.06353503795149607, 0.026783817556766176], [1.1035096491412466, 0.06362335764853322, 0.08925327589999998], 0.09382895597375085]], ['13483', 0.7608, [[0.010975726233785732, 0.015467424086696546, 0.04990101509698994], [0.010075717452826705, 0.7604283921821188, 0.10847666363636344], 3.2165749570319115]], ['14326', 0.9423, [[0.8467134685111571, 1.842655866991116, 0.07707368105899792], [0.045934565174446385, 0.13446038746279967, 0.7685652545454545], 0.11579715378681765]], ['13793', 0.1081, [[0.021122160628196746, 0.28537249803118625, 0.0610174159670312], [0.4706996188164527, 0.4711232704224868, 0.5802611454545455], 0.10476879750396295]], ['12946', 0.104, [[0.027141155608488038, 0.3637178832106014, 0.20696267186918246], [0.16239826687199954, 0.03213379649571596, 0.14440005454545468], 0.2695261313931743]], ['18106', 0.2433, [[0.03702653554174479, 0.19336643017632182, 0.05610845981603091], [0.005873666311987713, 0.11440119568764984, 0.05598754545454554], 0.11677546033336839]], ['15214', 1.1653, [[0.10901066793082093, 0.6795870632519541, 0.19874593158129727], [0.08955064245349642, 0.028682819972197904, 0.2371600542436081], 0.39349579217511743]], ['13967', 0.5174, [[0.01819715746705869, 0.07958095529429432, 0.017707606393512404], [0.37279603831853436, 0.18506084391429434, 0.6879523363636364], 0.1513571824025859]], ['13967', -0.6088, [[0.12770586827572922, 0.6884301049338828, 0.00937321895616279], [0.008209167894122016, 0.8079503561588095, 0.004174409090909048], 0.008062559166180705]], ['11005', 1.2243, [[0.2029066732120226, 0.5206977555095693, 0.0865081829589643], [0.5357993004879275, 0.29029879229813066, 0.14090643636363653], 0.0634374792617618]], ['12260', 0.0558, [[0.01832212000455849, 0.5288657353964701, 0.06406219959316706], [0.005144763570289146, 0.033923624016178544, 0.32125130759999987], 0.3189563243797826]], ['17598', 0.4652, [[0.08559160240912034, 0.8922180932215409, 0.23630106266522433], [0.011595514434915577, 0.09170705348605185, 0.05176067799999995], 0.053592039360110144]], ['17598', 1.7393, [[0.2316837074201401, 0.5089728061631913, 0.09812526633904683], [0.30851677989685394, 0.4015381374012008, 0.22897972449999981], 0.6963019729865718]], ['20573', 0.1093, [[0.014006542651220533, 0.6488752293704874, 0.0067323597492342305], [0.3438169957978149, 0.11829007273874886, 0.046085290607243756], 0.21848797795579444]], ['16234', 0.7463, [[0.050147776924386434, 0.13336088551885106, 0.04436279178007245], [0.07912905605592435, 0.09893907540737312, 0.16398941818181823], 0.045143688904343726]], ['17913', 0.686, [[0.06153562800744483, 0.3641302276419274, 0.10401697766072437], [0.361478542826552, 0.1482165300282342, 0.19641258699999997], 0.3319586467515838]], ['18241', -0.2047, [[0.0032218054543337316, 0.041177448878443546, 0.007538945787523399], [0.2048586426133711, 0.22403574608544263, 0.31371080000000007], 0.00420605432336052]], ['13502', -1.6389, [[0.3883648344966404, 1.0493089446235322, 0.1784076324598779], [0.4208792378179096, 0.24634411075287016, 0.5516455818181818], 0.12250283805496576]], ['14867', 0.5675, [[0.014341555330446454, 0.16031709642884495, 0.013757391534338081], [0.12910830719869826, 0.08223885860915103, 0.1844091545454547], 0.10076660187068609]], ['12305', -1.2108, [[0.1485319044905602, 0.5096780846169331, 0.12206316296820219], [0.11799811808672295, 0.6676686944755355, 0.26162235060000016], 0.07513478679411284]], ['17534', 0.0239, [[0.03184236015084372, 0.14260479026739237, 0.015662451369760078], [0.005996609585454005, 1.301646252257333, 0.0046204706999999345], 0.014230710546210279]]]

bookshelf_not_Aug_list = [['15334', -1.1405, [[0.14014023560878686, 0.4841143551912954, 0.4147563072014064], [0.3412883287892172, 0.1620336721771204, 0.15281983636363639], 0.35195699350551124]], ['11324', -0.4617, [[0.09881372825813095, 0.38971453886104124, 0.13386680417883934], [0.5963378554449965, 0.7984791018901293, 0.3231772999999999], 0.1442243872222817]], ['13345', -1.2313, [[0.39521357535485446, 0.33402471607430817, 0.10513614921049719], [0.30935816952302914, 1.181341046226362, 0.1177273636363636], 0.6214114162860598]], ['14420', 0.2169, [[0.053752422235266134, 0.026424124115064895, 0.06163650119581415], [0.24820794400165713, 0.06965603547084664, 0.038467645454545396], 0.2774164320406143]], ['13793', 0.1081, [[0.027579650628196742, 0.09439799803118598, 0.07204104403296879], [0.10136171881645284, 0.12523727042248678, 0.9236467454545455], 0.315339857503963]], ['13967', 0.5174, [[0.01025460746705864, 0.005851644705705539, 0.037185036393512394], [0.6363019383185343, 0.43210519391429425, 0.4610409363636363], 0.19281508240258605]], ['20573', 0.1093, [[0.011896012651220533, 0.6026008293704876, 0.5361358702507657], [0.1661473957978149, 0.02135469273874885, 0.4203935906072436], 0.9798135220442055]], ['16234', 0.7463, [[0.15010100692438644, 0.12887288551885123, 0.10155474321992755], [0.15408094394407568, 0.26403180540737314, 0.2691156181818182], 0.11991078890434359]], ['13502', -1.6389, [[0.5643651344966403, 0.9752776446235321, 0.3740741824598779], [0.4974953078179095, 0.2617586507528702, 0.7252104818181817], 0.009022761945034041]], ['20278', -0.8887, [[0.3238841074329478, 0.23039610923954346, 0.2792448440557135], [0.6504682869043039, 0.08836151816529864, 0.1622190270596593], 0.5697959734756726]], ['12305', -1.2108, [[0.11364699550943969, 0.4914747846169334, 0.11717131296820216], [0.395567688086723, 1.3358686444755352, 0.15413194939999997], 0.22500475320588714]]]




base_error_list = []
aug_error_list = []
for base in bookshelf_not_Aug_list:
    for aug in bookshelf_Aug_list:
        #만약 aug에 동일한게 있다면, (image_id 랑 loc_gt_w_x가 동일한 상황)
        if base[0] == aug[0] and base[1]  == aug[1]:
            base_error_list.append([base[2][0][0], base[2][0][1], base[2][0][2],
                                    base[2][1][0], base[2][1][1], base[2][1][2],
                                    base[2][2]])
            aug_error_list.append([aug[2][0][0], aug[2][0][1], aug[2][0][2],
                                    aug[2][1][0], aug[2][1][1], aug[2][1][2],
                                    aug[2][2]])

print(len(base_error_list))
base_error_array = np.array(base_error_list)
aug_error_array = np.array(aug_error_list)
base_error_array[:, 6] = np.rint((base_error_array[:, 6] * 180 / math.pi))
aug_error_array[:, 6] = np.rint((aug_error_array[:, 6] * 180 / math.pi))

# base_error_mean_array = np.round(np.mean(base_error_array, axis = 0),4)
# aug_error_mean_array = np.round(np.mean(aug_error_array, axis = 0),4)
#
# print(base_error_mean_array)
# print(aug_error_mean_array)
base_error_mean_array = np.round(np.sum(base_error_array, axis = 0),4)
aug_error_mean_array = np.round(np.sum(aug_error_array, axis = 0),4)

print(base_error_mean_array.tolist())
print(aug_error_mean_array.tolist())